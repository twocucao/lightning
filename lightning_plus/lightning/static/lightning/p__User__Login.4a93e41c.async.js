(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{Y5yc:function(e,t,a){"use strict";a.r(t);a("Pwec");var n,r,o,i=a("CtXQ"),s=(a("sRBo"),a("kaz8")),c=(a("fOrg"),a("+KLJ")),l=a("p0pE"),m=a.n(l),g=(a("2qtc"),a("kLXV")),p=a("2Taf"),d=a.n(p),u=a("vZ4D"),f=a.n(u),h=a("MhPg"),b=a.n(h),v=a("l4Ni"),y=a.n(v),M=a("ujKo"),E=a.n(M),w=a("q1tI"),O=a.n(w),j=a("MuoO"),C=a("Y2fQ"),q=a("wY1l"),N=a.n(q),F=a("QBZU"),k=a("w2qy"),S=a.n(k);function L(e){var t=T();return function(){var a,n=E()(e);if(t){var r=E()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return y()(this,a)}}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var P=F["a"].Tab,R=F["a"].UserName,D=F["a"].Password,x=F["a"].Mobile,A=F["a"].Captcha,B=F["a"].Submit,G=(n=Object(j["connect"])(function(e){var t=e.login,a=e.loading;return{login:t,submitting:a.effects["login/login"]}}),n((o=function(e){b()(a,e);var t=L(a);function a(){var e;d()(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={type:"account",autoLogin:!0},e.onTabChange=function(t){e.setState({type:t})},e.onGetCaptcha=function(){return new Promise(function(t,a){e.loginForm.validateFields(["mobile"],{},function(n,r){if(n)a(n);else{var o=e.props.dispatch;o({type:"login/getCaptcha",payload:r.mobile}).then(t).catch(a),g["a"].info({title:Object(C["formatMessage"])({id:"app.login.verification-code-warning"})})}})})},e.handleSubmit=function(t,a){var n=e.state.type;if(!t){var r=e.props.dispatch;r({type:"login/login",payload:m()({},a,{type:n})})}},e.changeAutoLogin=function(t){e.setState({autoLogin:t.target.checked})},e.renderMessage=function(e){return O.a.createElement(c["a"],{style:{marginBottom:24},message:e,type:"error",showIcon:!0})},e}return f()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.login,n=t.submitting,r=this.state,o=r.type,c=r.autoLogin;return O.a.createElement("div",{className:S.a.main},O.a.createElement(F["a"],{defaultActiveKey:o,onTabChange:this.onTabChange,onSubmit:this.handleSubmit,ref:function(t){e.loginForm=t}},O.a.createElement(P,{key:"account",tab:Object(C["formatMessage"])({id:"app.login.tab-login-credentials"})},"error"===a.status&&"account"===a.type&&!n&&this.renderMessage(Object(C["formatMessage"])({id:"app.login.message-invalid-credentials"})),O.a.createElement(R,{name:"userName",placeholder:"".concat(Object(C["formatMessage"])({id:"app.login.userName"}),": admin or user"),rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.userName.required"})}]}),O.a.createElement(D,{name:"password",placeholder:"".concat(Object(C["formatMessage"])({id:"app.login.password"}),": ant.design"),rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.password.required"})}],onPressEnter:function(t){t.preventDefault(),e.loginForm.validateFields(e.handleSubmit)}})),O.a.createElement(P,{key:"mobile",tab:Object(C["formatMessage"])({id:"app.login.tab-login-mobile"})},"error"===a.status&&"mobile"===a.type&&!n&&this.renderMessage(Object(C["formatMessage"])({id:"app.login.message-invalid-verification-code"})),O.a.createElement(x,{name:"mobile",placeholder:Object(C["formatMessage"])({id:"form.phone-number.placeholder"}),rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.phone-number.required"})},{pattern:/^1\d{10}$/,message:Object(C["formatMessage"])({id:"validation.phone-number.wrong-format"})}]}),O.a.createElement(A,{name:"captcha",placeholder:Object(C["formatMessage"])({id:"form.verification-code.placeholder"}),countDown:120,onGetCaptcha:this.onGetCaptcha,getCaptchaButtonText:Object(C["formatMessage"])({id:"form.get-captcha"}),getCaptchaSecondText:Object(C["formatMessage"])({id:"form.captcha.second"}),rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.verification-code.required"})}]})),O.a.createElement("div",null,O.a.createElement(s["a"],{checked:c,onChange:this.changeAutoLogin},O.a.createElement(C["FormattedMessage"],{id:"app.login.remember-me"})),O.a.createElement("a",{style:{float:"right"},href:""},O.a.createElement(C["FormattedMessage"],{id:"app.login.forgot-password"}))),O.a.createElement(B,{loading:n},O.a.createElement(C["FormattedMessage"],{id:"app.login.login"})),O.a.createElement("div",{className:S.a.other},O.a.createElement(C["FormattedMessage"],{id:"app.login.sign-in-with"}),O.a.createElement(i["a"],{type:"alipay-circle",className:S.a.icon,theme:"outlined"}),O.a.createElement(i["a"],{type:"taobao-circle",className:S.a.icon,theme:"outlined"}),O.a.createElement(i["a"],{type:"weibo-circle",className:S.a.icon,theme:"outlined"}),O.a.createElement(N.a,{className:S.a.register,to:"/user/register"},O.a.createElement(C["FormattedMessage"],{id:"app.login.signup"})))))}}]),a}(w["Component"]),r=o))||r);t["default"]=G},w2qy:function(e,t,a){e.exports={main:"antd-pro-pages-user-login-main",icon:"antd-pro-pages-user-login-icon",other:"antd-pro-pages-user-login-other",register:"antd-pro-pages-user-login-register"}}}]);