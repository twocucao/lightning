(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{Xjaj:function(t,e,n){"use strict";n.r(e);var r,i,c=n("2Taf"),a=n.n(c),o=n("vZ4D"),u=n.n(o),l=n("MhPg"),s=n.n(l),d=n("l4Ni"),f=n.n(d),p=n("ujKo"),h=n.n(p),m=n("q1tI"),v=n.n(m),y=n("bKel"),F=n.n(y),b=n("jehZ"),g=n.n(b),R=n("eHn4"),k=n.n(R),j=n("3a4m"),w=n.n(j),E=n("MuoO"),C=n("Hx5s"),D=n("xNPh"),O=n("8hbc"),P=n("wOmh"),x=n("C2ml");function U(t){var e=K();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var M,N=(r=Object(E["connect"])(function(t){var e=t.content,n=e.schemas,r=e.data,i=t.user.currentUser;return{schemas:n,currentUser:i,data:r}}),F()(i=r(i=function(t){s()(n,t);var e=U(n);function n(){return a()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var t,e,n,r=this,i=this.props,c=i.match.params,a=c.id,o=c.pId,u=i.location.query.redirect_path,l=i.schemas,s=i.data,d=this.permissions,f=this.model;if(!d)return null;var p=0!==a&&a,h=l[f]||{},m=p?"\u7f16\u8f91":"\u65b0\u5efa",y=p&&h.titleField&&(null===s||void 0===s?void 0:null===(t=s[f])||void 0===t?void 0:null===(e=t.detail)||void 0===e?void 0:null===(n=e[a])||void 0===n?void 0:n[h.titleField]),F="".concat(m).concat(h.displayName||""),b=Object(D["a"])(f),R=this.pField&&{hiddenFields:k()({},this.pField.refField,o),hiddenvalues:k()({},this.pField.refField,o)},j=function(t){return r.pField?w.a.goBack():w.a.push(u?u.replace("{id}",Object(O["C"])(t,f)):"/content/".concat(f))};return v.a.createElement(C["b"],{title:y||F},v.a.createElement(x["a"],null,y?"".concat(y," - "):"",F),p&&d.includes("change")||!p&&d.includes("add")?v.a.createElement(b,g()({onCreate:j,onUpdate:j,model:f,objectid:a},R)):v.a.createElement(P["default"],null))}},{key:"pField",get:function(){var t,e=this.props,n=e.match.params,r=n.pModel,i=n.ref,c=e.schemas;return r&&(null===(t=c[r])||void 0===t?void 0:t.fields.find(function(t){return t.name===i}))}},{key:"model",get:function(){var t,e,n=this.props.match.params.model;return null!==(t=null===(e=this.pField)||void 0===e?void 0:e.ref)&&void 0!==t?t:n}},{key:"permissions",get:function(){var t=this.props.currentUser.permissions,e=this.model;return t?t.filter(function(t){return t.endsWith(e)}).map(function(t){return t.split("_")[0]}):null}}]),n}(m["PureComponent"]))||i)||i),q=N,H=n("7gdK");function I(t){var e=J();return function(){var n,r=h()(t);if(e){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var S=F()(M=function(t){s()(n,t);var e=I(n);function n(){return a()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var t=this.props.match.params.model;return v.a.createElement(v.a.Fragment,null,v.a.createElement(q,this.props),v.a.createElement(H["a"],{key:t,model:t,defaultTab:"form"}))}}]),n}(m["Component"]))||M;e["default"]=S}}]);